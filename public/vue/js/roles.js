Vue.config.devtools=!0;var vm=new Vue({el:"#posts",data:{ads:[],allAds:[],latestAds:[],isLatestActive:!0,isInterestedActive:!1,isAllActive:!1,customer_id:"",user_id:"",username:"",pagination:{total:0,per_page:2,from:1,to:0,current_page:1},offset:4,formErrors:{},formErrorsUpdate:{},order:null},computed:{isActived:function(){return this.pagination.current_page},pagesNumber:function(){if(!this.pagination.to)return[];var a=this.pagination.current_page-this.offset;1>a&&(a=1);var b=a+2*this.offset;b>=this.pagination.last_page&&(b=this.pagination.last_page);for(var c=[];a<=b;)c.push(a),a++;return c}},mounted(){1==error&&$("#exampleModalLong").modal("show"),this.latest()},methods:{switchTabs(a){"latest"===a?(this.isLatestActive=!0,this.isInterestedActive=!1,this.isAllActive=!1,this.latest()):"interested"===a?(this.isLatestActive=!1,this.isInterestedActive=!0,this.isAllActive=!1,this.fetchInterested()):"all"==a&&(this.isLatestActive=!1,this.isInterestedActive=!1,this.isAllActive=!0,this.fetchAll())},latest(){this.$http.get("ads/all/list/"+ad_type).then(a=>{this.latestAds=a.data})},fetchInterested(){this.$http.get("ads/interested/list/"+ad_type+"/"+user_id).then(a=>{this.ads=a.data})},fetchAll(a){this.$http.get("ads/"+ad_type+"/?page="+a).then(b=>{this.allAds=b.data.list.data,this.pagination=b.data.pagination})},interested:function(){$("#exampleModalLong").modal("show")},interestedWithUser:function(a){element=a.currentTarget,ad_id=element.getAttribute("ad_id"),ad_type=element.getAttribute("ad_type"),this.$http.get("customer/interested/"+user_id+"/"+ad_type+"/"+ad_id).then(b=>{"200"==b.data[0]?$("#interestedWithUser").css("background-color","yellow"):"exist"==b.data[0]&&toastr.warning(b.data[1],"Warning Alert",{timeOut:5e3})})},submitForm:function(){var a=new FormData(document.getElementById("submit"));this.$http.post("customer/login/verify",a).then(b=>{res=b.data[0],0==res||1==res?toastr.warning(b.data[1],"Warning Alert",{timeOut:5e3}):200==res&&($("#exampleModalLong").modal("hide"),$("#interestedWithOutUser").hide(),$("#interestedWithUser").show(),toastr.success(b.data[1],"Successfully LoggedIn! Welcome sir",{timeOut:5e3})),console.log(b.data[1])},b=>{this.formErrors=b.data})},changePage:function(a){this.pagination.current_page=a,this.fetchAll(a)}}});